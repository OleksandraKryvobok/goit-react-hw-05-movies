{"version":3,"file":"static/js/207.56d96ab5.chunk.js","mappings":"yPAIMA,GAAWC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IAETC,EAAsB,IAAIC,gBAsCvC,IApCa,WACT,OAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEQC,GAAOC,EAAAA,EAAAA,MAAPD,GAwBR,OAtBAE,EAAAA,EAAAA,YAAU,WAAM,wCACZ,8GAEkCC,EAAAA,EAAAA,GAAUH,GAF5C,UAIuC,KAFzBI,EAFd,QAIuBR,KAAKS,OAJ5B,sBAKkB,IAAIC,MAAM,2CAL5B,OAQQT,EAAQO,EAAYR,MAR5B,kDAUQG,EAAS,KAAMQ,SAVvB,2DADY,sBAiBZ,OAjBa,WAAD,wBAeZC,GAEO,WACHf,EAAoBgB,OACvB,CACJ,GAAE,CAACT,KAGA,iCACI,SAACT,EAAD,CAAUK,KAAMA,IACfE,IAAS,yBAAMA,MAG3B,C,wICtCKY,GAAclB,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IAEZmB,EAAyB,IAAIjB,gBAoC1C,IAlCgB,WACZ,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOiB,EAAP,KAAgBC,EAAhB,KACA,GAA0BlB,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GAwBR,OAtBAE,EAAAA,EAAAA,YAAU,WAAM,wCACZ,8GAEqCY,EAAAA,EAAAA,IAAad,GAFlD,UAI6C,KAF/Be,EAFd,QAI0BC,QAAQX,OAJlC,sBAKkB,IAAIC,MAAM,4CAL5B,OAQQO,EAAWE,EAAeC,SARlC,kDAUQjB,EAAS,KAAMQ,SAVvB,mEADY,sBAiBZ,OAjBa,WAAD,wBAeZU,GAEO,WACHN,EAAuBF,OAC1B,CACJ,GAAE,CAACT,KAGA,iCACI,SAACU,EAAD,CAAaE,QAASA,IACrBd,IAAS,yBAAMA,MAG3B,C,kKCpCKoB,GAAqB1B,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IAEnB2B,EAAsB,IAAIzB,gBAsCvC,UApCa,WACV,OAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOyB,EAAP,KAAuBC,EAAvB,KACA,GAA0B1B,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACMuB,GAAWC,EAAAA,EAAAA,MAwBjB,OAtBArB,EAAAA,EAAAA,YAAU,WAAM,wCACb,8GAE2BsB,EAAAA,EAAAA,MAF3B,UAG2B,KADfC,EAFZ,QAGgBpB,OAHhB,sBAIe,IAAIC,MAAM,sCAJzB,OAMMe,EAAkBI,EAAOT,SAN/B,kDAQGjB,EAAS,KAAMQ,SARlB,mEADa,sBAeb,OAfc,WAAD,wBAabmB,GAEO,WACJP,EAAoBV,OACtB,CACH,GAAE,KAEHkB,EAAAA,EAAAA,OAGG,iCACG,4CACA,SAACT,EAAD,CAAoBE,eAAgBA,EAAgBE,SAAUA,IAC7DxB,IAAS,gBAAKA,MAAOA,EAAMS,YAGpC,C,8KCvCKqB,GAAYpC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IACjBqC,GAAiBrC,EAAAA,EAAAA,OAAK,kBAAM,6BAAN,IAEfsC,EAAwB,IAAIpC,gBA6DzC,UA3De,WACX,OAA0CC,EAAAA,EAAAA,UAAS,IAAnD,eAAOoC,EAAP,KAAsBC,EAAtB,KACA,GAAoCrC,EAAAA,EAAAA,UAAS,IAA7C,eAAOsC,EAAP,KAAmBC,EAAnB,KACA,GAA8BvC,EAAAA,EAAAA,WAAS,GAAvC,eAAOwC,EAAP,KAAgBC,EAAhB,KACA,GAA0BzC,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCsC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMjB,GAAWC,EAAAA,EAAAA,OAEjBrB,EAAAA,EAAAA,YAAU,WACNgC,EAAcI,EAAaE,IAAI,SAClC,GAAE,CAACF,KAEJpC,EAAAA,EAAAA,YAAU,WACN,GAAI+B,EAyBJ,OApBAG,GAAW,GANC,mCAwBZV,GAEO,WACHI,EAAsBrB,OACzB,EA5BW,wCAQZ,8GAEyCkB,EAAAA,EAAAA,IAAoBM,GAF7D,UAGiD,KADnCQ,EAFd,QAG8BzB,QAAQX,OAHtC,sBAIkB,IAAIC,MAAM,6CAJ5B,OAOQ0B,EAAiBS,EAAmBzB,SACpCjB,EAAS,MACTqC,GAAW,GATnB,kDAWQrC,EAAS,KAAMQ,SACf6B,GAAW,GAZnB,mEARY,sBAERJ,EAAiB,GA2BxB,GAAE,CAACC,IAOJ,OACI,iCACI,SAACL,EAAD,CAAWc,aAPE,SAACC,GAElBJ,EAD6B,KAAfI,EAAoB,CAACC,MAAOD,GAAc,CAAC,EAE5D,KAKS7C,IAAS,SAAC+B,EAAD,CAAgBgB,WAAYd,EAAeT,SAAUA,IAC/Da,IAAW,wCACXrC,IAAS,yBAAMA,MAG3B,C,yOC5DKgD,EAAW,+BACXC,EAAU,mCAET,SAAevB,IAAtB,4CAAO,OAAP,oBAAO,oGACoBwB,EAAAA,EAAAA,IAAA,UAAaF,EAAb,uBAA4C,CAC/DG,OAAQ,CACJC,QAASH,EACTI,KAAM,EACNC,OAAQjC,EAAAA,oBAAAA,UALb,cACGkC,EADH,yBASIA,EAASC,MATb,kEAYA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BvD,GAA1B,uFACoBgD,EAAAA,EAAAA,IAAA,UAAaF,EAAb,kBAA+B9C,GAAM,CACxDiD,OAAQ,CACJC,QAASH,EACTK,OAAQtB,EAAAA,sBAAAA,UAJb,cACGuB,EADH,yBAQIA,EAASC,MARb,kEAWA,SAAe3B,EAAtB,+CAAO,OAAP,oBAAO,WAAmC6B,GAAnC,uFACoBR,EAAAA,EAAAA,IAAA,UAAaF,EAAb,iBAAsC,CACzDG,OAAQ,CACJC,QAASH,EACTH,MAAM,GAAD,OAAKY,MAJf,cACGH,EADH,yBASIA,EAASC,MATb,kEAYA,SAAenD,EAAtB,+CAAO,OAAP,oBAAO,WAAyBsD,GAAzB,uFACoBT,EAAAA,EAAAA,IAAA,UAAaF,EAAb,kBAA+BW,EAA/B,YAAkD,CACrER,OAAQ,CACJC,QAASH,EACTK,OAAQ3D,EAAAA,EAAAA,UAJb,cACG4D,EADH,yBAQIA,EAASC,MARb,kEAWA,SAAexC,EAAtB,+CAAO,OAAP,oBAAO,WAA4B2C,GAA5B,uFACoBT,EAAAA,EAAAA,IAAA,UAAaF,EAAb,kBAA+BW,EAA/B,YAAkD,CACrER,OAAQ,CACJC,QAASH,EACTK,OAAQzC,EAAAA,EAAAA,UAJb,cACG0C,EADH,yBAQIA,EAASC,MARb,kE","sources":["components/Cast/Cast.jsx","components/Reviews/Reviews.jsx","pages/Home.jsx","pages/Movies.jsx","services/movies-api.js"],"sourcesContent":["import { lazy, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchCast } from \"services/movies-api\";\n\nconst CastList = lazy(() => import(\"components/CastList\"));\n\nexport const abortControllerCast = new AbortController();\n\nconst Cast = () => {\n    const [cast, setCast] = useState([]);\n    const [error, setError] = useState(null);\n\n    const { id } = useParams();\n\n    useEffect(() => {\n        async function fetchMovieCast() {\n            try {\n                const fetchedCast = await fetchCast(id);\n\n                if(fetchedCast.cast.length === 0) {\n                    throw new Error(\"We don't have any actors for this movie\");\n                };\n\n                setCast(fetchedCast.cast);\n            } catch (error) {\n                setError(error.message);\n            }\n        };\n\n        fetchMovieCast();\n\n        return () => {\n            abortControllerCast.abort();\n        };\n    }, [id]);\n\n    return (\n        <>\n            <CastList cast={cast}/>\n            {error && <div>{error}</div>}\n        </>\n    )\n};\n\nexport default Cast;","import { lazy, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchReviews } from \"services/movies-api\";\n\nconst ReviewsList = lazy(() => import('../ReviewsList/ReviewsList'));\n\nexport const abortControllerReviews = new AbortController();\n\nconst Reviews = () => {\n    const [reviews, setReviews] = useState([]);\n    const [error, setError] = useState(null);\n    const { id } = useParams();\n\n    useEffect(() => {\n        async function fetchMovieReviews() {\n            try {\n                const fetchedReviews = await fetchReviews(id);\n\n                if(fetchedReviews.results.length === 0) {\n                    throw new Error(\"We don't have any reviews for this movie\");\n                };\n\n                setReviews(fetchedReviews.results);\n            } catch (error) {\n                setError(error.message);\n            };\n        };\n        \n        fetchMovieReviews();\n\n        return () => {\n            abortControllerReviews.abort();\n        };\n    }, [id]);\n\n    return (\n        <>\n            <ReviewsList reviews={reviews}/>\n            {error && <div>{error}</div>}\n        </>\n    );\n};\nexport default Reviews;","import { lazy, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { fetchTrendingMovies } from \"services/movies-api\";\nimport { fetchSearchedMovies } from \"services/movies-api\";\n\nconst TrendingMoviesList = lazy(() => import(\"components/TrendingMoviesList\"));\n\nexport const abortControllerHome = new AbortController();\n\nconst Home = () => {\n   const [trendingMovies, setTrendingMovies] = useState([]);\n   const [error, setError] = useState(null);\n   const location = useLocation();\n\n   useEffect(() => {\n      async function fetchMovies() {\n         try {\n            const movies = await fetchTrendingMovies();\n            if(movies.length === 0) {\n               throw new Error('There are no trending movies today');\n            };\n            setTrendingMovies(movies.results);\n         } catch (error) {\n         setError(error.message);\n         };\n      };\n\n      fetchMovies();\n\n      return () => {\n         abortControllerHome.abort();\n      };\n   }, []);\n\n   fetchSearchedMovies();\n\n   return (\n      <>\n         <h1>Trending today</h1>\n         <TrendingMoviesList trendingMovies={trendingMovies} location={location} />\n         {error && <div error={error.message}></div>}\n      </>      \n   );\n};\n\nexport default Home;\n","import { lazy, useEffect, useState } from \"react\";\nimport { useLocation, useSearchParams } from \"react-router-dom\";\nimport { fetchSearchedMovies } from \"services/movies-api\";\n\nconst SearchBar = lazy(() => import(\"../components/SearchBar\"));\nconst SearchedMovies = lazy(() => import(\"../components/SearchedMovies\"));\n\nexport const abortControllerMovies = new AbortController();\n\nconst Movies = () => {\n    const [fetchedMovies, setFetchedMovies] = useState([]);\n    const [queryMovie, setQueryMovie] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const location = useLocation();\n\n    useEffect(() => {\n        setQueryMovie(searchParams.get('query'));\n    }, [searchParams]);\n\n    useEffect(() => {\n        if(!queryMovie) {\n            setFetchedMovies([]);\n            return;\n        };\n\n        setLoading(true);\n\n        async function fetchMovies() {\n            try {\n                const searchedMoviesList = await fetchSearchedMovies(queryMovie);\n                if(searchedMoviesList.results.length === 0) {\n                    throw new Error(\"We don't have any movies for your request\");\n                };\n                 \n                setFetchedMovies(searchedMoviesList.results);\n                setError(null);\n                setLoading(false);\n            } catch (error) {\n                setError(error.message);\n                setLoading(false);\n            };\n        }\n\n        fetchMovies();\n\n        return () => {\n            abortControllerMovies.abort();\n        };\n    }, [queryMovie]);\n\n    const handleSubmit = (inputValue) => {\n        const query = inputValue !== '' ? {query: inputValue} : {};\n        setSearchParams(query);\n    };\n\n    return (\n        <>\n            <SearchBar onFormSubmit={handleSubmit} />\n            {!error && <SearchedMovies moviesList={fetchedMovies} location={location} />}\n            {loading && <div>Loading...</div>}\n            {error && <div>{error}</div>}\n        </>\n    );\n};\n\nexport default Movies;","import axios from \"axios\";\nimport { abortControllerHome } from \"pages/Home\";\nimport { abortControllerMovies } from \"pages/Movies\";\nimport { abortControllerCast } from \"components/Cast/Cast\";\nimport { abortControllerReviews } from \"components/Reviews/Reviews\";\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '1031ac21012605f271b16d5645868876';\n\nexport async function fetchTrendingMovies() {\n    const response = await axios.get(`${BASE_URL}/trending/movie/day`, {\n        params: {\n            api_key: API_KEY,\n            page: 1,\n            signal: abortControllerHome.signal\n        }\n    });\n\n    return response.data;\n};\n\nexport async function fetchMovie(id) {\n    const response = await axios.get(`${BASE_URL}/movie/${id}`, {\n        params: {\n            api_key: API_KEY,\n            signal: abortControllerMovies.signal\n        }\n    });\n\n    return response.data;\n};\n\nexport async function fetchSearchedMovies(searchValue) {\n    const response = await axios.get(`${BASE_URL}/search/movie`, {\n        params: {\n            api_key: API_KEY,\n            query: `${searchValue}`,\n            // signal: abortController.signal\n        }\n    });\n\n    return response.data;\n};\n\nexport async function fetchCast(movieId) {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}/credits`, {\n        params: {\n            api_key: API_KEY,\n            signal: abortControllerCast.signal\n        }\n    });\n\n    return response.data;\n};\n\nexport async function fetchReviews(movieId) {\n    const response = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`, {\n        params: {\n            api_key: API_KEY,\n            signal: abortControllerReviews.signal\n        }\n    });\n\n    return response.data;\n};\n"],"names":["CastList","lazy","abortControllerCast","AbortController","useState","cast","setCast","error","setError","id","useParams","useEffect","fetchCast","fetchedCast","length","Error","message","fetchMovieCast","abort","ReviewsList","abortControllerReviews","reviews","setReviews","fetchReviews","fetchedReviews","results","fetchMovieReviews","TrendingMoviesList","abortControllerHome","trendingMovies","setTrendingMovies","location","useLocation","fetchTrendingMovies","movies","fetchMovies","fetchSearchedMovies","SearchBar","SearchedMovies","abortControllerMovies","fetchedMovies","setFetchedMovies","queryMovie","setQueryMovie","loading","setLoading","useSearchParams","searchParams","setSearchParams","get","searchedMoviesList","onFormSubmit","inputValue","query","moviesList","BASE_URL","API_KEY","axios","params","api_key","page","signal","response","data","fetchMovie","searchValue","movieId"],"sourceRoot":""}